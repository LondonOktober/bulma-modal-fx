!function(s){s.fn.modalFx=function(t){var r="modal-fx-",l=s.extend({action:"open",target_attr:"data-target",defaultFx:"none",close_element:".modal-background, .modal-close",fx_attr:!1,force_fx:!1,onOpen:null,onClose:null},t);function f(t){if(t[0].className)var e=s.map(t[0].className.split(" "),function(t,e){if(-1<t.indexOf(r))return t});return""!=e&&e}function c(t,e){return t.removeClass(f(t)).addClass(e)}this.each(function(t){s.Callbacks();s(this).on("click",function(){var o=this;(function(t){var e=s.Deferred(),a=s(t).attr(l.target_attr),o=s("#"+a);if(l.force_fx)c(o,r+l.force_fx);else if(l.fx_attr&&void 0!==s(t).attr(l.fx_attr)){var n=s(t).attr(l.fx_attr);c(o,r+n)}else l.defaultFx&&!f(o)&&o.addClass(r+l.defaultFx);return setTimeout(function(){e.resolve()},0),e.promise()})(this).done(function(){var t,e,a;e=s(t=o).attr(l.target_attr),a=s("#"+e),console.log(t),a.addClass("is-active")})})})}}(jQuery),$(".modal-button").modalFx({action:"open",close_element:".modal-background, .modal-close",defaultFx:!1,target_attr:"data-target",fx_attr:"data-fx",force_fx:!1,onOpen:function(){setTimeout(function(){console.log("open")},500)},onClose:function(){console.log("close")}});